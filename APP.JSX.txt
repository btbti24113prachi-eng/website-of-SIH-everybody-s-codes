import React from "react";
import { Routes, Route, NavLink } from "react-router-dom";
import Dashboard from "./pages/Dashboard";
import RoutePlanner from "./pages/RoutePlanner";
import TrafficSignals from "./pages/TrafficSignals";
import AccidentDetection from "./pages/AccidentDetection";
import IncidentMonitoring from "./pages/IncidentMonitoring";
import SmartParking from "./pages/SmartParking";
import TollPrediction from "./pages/TollPrediction";

function Sidebar(){
  return (
    <aside className="sidebar">
      <div className="brand">
        <div className="logo">ST</div>
        <div>
          <div style={{fontWeight:700}}>Smart Traffic</div>
          <div className="small">Monitoring Dashboard</div>
        </div>
      </div>

      <nav className="nav">
        <NavLink to="/" end className={({isActive}) => isActive ? "active" : ""}>Main Dashboard</NavLink>
        <NavLink to="/route" className={({isActive}) => isActive ? "active" : ""}>Route Planner</NavLink>
        <NavLink to="/signals" className={({isActive}) => isActive ? "active" : ""}>Traffic Signal Control</NavLink>
        <NavLink to="/accidents" className={({isActive}) => isActive ? "active" : ""}>Accident Detection</NavLink>
        <NavLink to="/incidents" className={({isActive}) => isActive ? "active" : ""}>Incident Monitoring</NavLink>
        <NavLink to="/parking" className={({isActive}) => isActive ? "active" : ""}>Smart Parking</NavLink>
        <NavLink to="/toll" className={({isActive}) => isActive ? "active" : ""}>Toll Prediction</NavLink>
      </nav>

      <div style={{marginTop:18}} className="small">
        Traffic Density: <strong>75%</strong><br/>
        Active Incidents: <strong>3</strong><br/>
        Nearby Hospitals: <strong>5</strong>
      </div>
    </aside>
  )
}

export default function App(){
  return (
    <div className="app">
      <Sidebar />
      <main className="main">
        <Routes>
          <Route path="/" element={<Dashboard/>} />
          <Route path="/route" element={<RoutePlanner/>} />
          <Route path="/signals" element={<TrafficSignals/>} />
          <Route path="/accidents" element={<AccidentDetection/>} />
          <Route path="/incidents" element={<IncidentMonitoring/>} />
          <Route path="/parking" element={<SmartParking/>} />
          <Route path="/toll" element={<TollPrediction/>} />
        </Routes>
        <div className="footer">© Smart Traffic Monitoring • Prototype</div>
      </main>
    </div>
  )
}
